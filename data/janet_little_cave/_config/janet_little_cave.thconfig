#----------------------------------------------------------------------------------|
#                                                                                  |
#                      THIS IS A CONFIGURATION FILE FOR:                           |
#                                                                                  |
#                                                                                  |
#                      A SMALL CAVE OF THE MIGOVEC PLATEAU                         |
#                                                                                  |
#----------------------------------------------------------------------------------|

encoding  utf-8

#----------------------------------------------------------------------------------|
# select a source data file.
source "../janet_little_cave.th"

#----------------------------------------------------------------------------------|
# export a model openable in Loch and one in Aven
export model -o ../_outputs/janet_little_cave.lox
export model -o ../_outputs/janet_little_cave.3d

#----------------------------------------------------------------------------------|
# select a relevant layout definition file
input ../../_layouts/detailed-p.thl
input ../../_layouts/detailed-e.thl

#----------------------------------------------------------------------------------|
# select a relevant map (which contains commands for offsets of overlying bits)
select m-all-e@janet_little_cave



#----------------------------------------------------------------------------------|
# select a relevant map definition for plan view
select m-all-p@janet_little_cave

#----------------------------------------------------------------------------------|
# define a local layout with legend, header and elevation map produced above
layout local
	copy detailed
	scale 1 250
	code tex-map
	\def\maplayout{
	\legendbox{0}{180}{NW}{\size[26]\the\cavename}
	\legendbox{50}{120}{N}{\scalebar}
	\legendbox{50}{150}{N}{\northarrow}
	}
	endcode
endlayout

#----------------------------------------------------------------------------------|
# export the pdf map containing plan and elevation
export map -o ../_outputs/janet_little_cave_plan.pdf -projection plan -layout local


#----------------------------------------------------------------------------------|
# define a local layout without legend or header for extended elevation
layout local-e
	copy detailed-e
	legend off
	map-header 100 0 off
	scale 1 250
	grid-size 10 10 5 m
endlayout

#----------------------------------------------------------------------------------|
# export the pdf map in elevation view
export map -o ../_outputs/janet_little_cave_ee.pdf -projection extended -layout local-e
